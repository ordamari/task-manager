(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{45:function(e,t,a){e.exports=a(59)},57:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(20),i=a.n(o),r=a(22),l=a(41),s=a(18),d=a(7),u=a(3),m=a(2),f=a(4),b={tasks:{t101:{id:"t101",contact:"styling",info:{media:"",show:!0}},t102:{id:"t102",contact:"functionality",info:{media:"",show:!0}},t103:{id:"t103",contact:"add button",info:{media:"",show:!0}},t104:{id:"t104",contact:"4",info:{media:"https://ordamari.github.io/protfolio/static/media/react.448ca321.png",show:!0}},t105:{id:"t105",contact:"5",info:{media:"https://www.youtube.com/watch?v=MhntcA7_WxA",show:!0}},t106:{id:"t106",contact:"6",info:{media:"",show:!0,tdList:[{title:"do",isFinish:!1},{title:"dodo",isFinish:!0}]}},t107:{id:"t107",contact:"7",info:{media:"",show:!0}},t108:{id:"t108",contact:"8",info:{media:"",show:!0}},t109:{id:"t109",contact:"9",info:{media:"",show:!0}},t110:{id:"t110",contact:"10",info:{media:"",show:!0}},t111:{id:"t111",contact:"11",info:{media:"",show:!0}},t112:{id:"t112",contact:"12",info:{media:"",show:!0}},t113:{id:"t113",contact:"13",info:{media:"",show:!0}}},colums:{c101:{id:"c101",title:"Todo",taskIds:["t101","t102","t103","t104"]},c102:{id:"c102",title:"Doing",taskIds:["t105","t106","t107","t108","t109"]},c103:{id:"c103",title:"Done",taskIds:["t110","t111","t112","t113"]}},columnOrder:["c101","c102","c103"]},p=["t101","t102"];var k={query:function(){return Object(m.a)({},b)},updateData:function(e){b=e},getLocks:function(){return Object(d.a)(p)},updateLocks:function(e){p=e}},v=a(17);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=Object(n.useState)(e),c=Object(f.a)(a,2),o=c[0],i=c[1];return Object(n.useEffect)((function(){t(o)}),[o]),[o,function(e){if(e){var t="number"===e.target.type?+e.target.value:e.target.value;i(Object(m.a)({},o,Object(u.a)({},e.target.name,t)))}else i({contact:"",title:""})}]}function O(e){var t=e.addTask,a=e.columnId,n=g({contact:""}),o=Object(f.a)(n,2),i=o[0],r=o[1];return c.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),t(i.contact,a),r()}(e)}},c.a.createElement("input",{name:"contact",autoComplete:"off",placeholder:"Add task",value:i.contact,onChange:r,type:"text"}))}var E=a(19),h=a.n(E),j=a(35),w=a.n(j),y=a(39),I=a.n(y),x=a(38),D=a.n(x),T=a(37),C=a.n(T),N=a(27),S=a.n(N),L=a(40),_=a.n(L),A=a(26),F=a.n(A),P=a(34),R=a.n(P),U=a(21),M=a.n(U);function K(e){var t=e.editData,a=e.taskId,n=e.toggleDataEdit,o=g({media:""}),i=Object(f.a)(o,2),r=i[0],l=i[1];return c.a.createElement("form",{onSubmit:function(e){!function(e){t(a,r.media),e.preventDefault(),n()}(e)}},c.a.createElement("input",{name:"media",autoComplete:"off",placeholder:"img or youtube link",value:r.media,onChange:l,type:"text"}))}function W(e){var t=e.addTD,a=e.taskId,n=g({title:""}),o=Object(f.a)(n,2),i=o[0],r=o[1];return c.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),t(a,i.title),r()}(e)}},c.a.createElement("input",{name:"title",autoComplete:"off",placeholder:"Add To Do",value:i.title,onChange:r,type:"text"}))}var q={on:function(e,t){var a=function(e){var a=e.detail;t(a)};return window.addEventListener(e,a),function(){window.removeEventListener(e,a)}},emit:function(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}},B={uploadImg:function(e){var t,a,n,c;return h.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return"dif8yy3on",t="https://api.cloudinary.com/v1_1/".concat("dif8yy3on","/image/upload"),(a=new FormData).append("file",e.target.files[0]),a.append("upload_preset","misterToy"),o.prev=5,o.next=8,h.a.awrap(fetch(t,{method:"POST",body:a}));case 8:return n=o.sent,o.next=11,h.a.awrap(n.json());case 11:return c=o.sent,o.abrupt("return",c);case 15:o.prev=15,o.t0=o.catch(5),console.log(o.t0);case 18:case"end":return o.stop()}}),null,null,[[5,15]])}};var H=a(36),J=a.n(H);function V(e){var t=e.task,a=e.index,o=e.removeTask,i=e.columnId,r=e.lockTasks,l=e.createTD,s=e.toggleIsLock,u=e.toggleIsShown,m=e.editData,b=e.addTD,p=e.toggleIsFinish,k=e.removeTD,g=r.some((function(e){return e===t.id})),O=Object(n.useState)(!1),E=Object(f.a)(O,2),j=E[0],y=E[1],x=Object(n.useState)(!1),T=Object(f.a)(x,2),N=T[0],L=T[1];Object(n.useEffect)((function(){return q.on("toggle-is-open",(function(e){e!==t.id&&y(!1)})),q.on("close-menu",(function(e){e===t.id&&y(!1)})),function(){null,null}}),[]);var A=function(){L(!N)},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];q.emit("toggle-is-open",t.id),L(!1),e.apply(void 0,Object(d.a)(a)),y(!j)},U=function(e){var a,n;return h.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e.target.name,c.prev=1,c.next=4,h.a.awrap(B.uploadImg(e));case 4:a=c.sent,n=a.secure_url,m(t.id,n),L(!1),c.next=12;break;case 10:c.prev=10,c.t0=c.catch(1);case 12:case"end":return c.stop()}}),null,null,[[1,10]])};return c.a.createElement(v.b,{draggableId:t.id,index:a,isDragDisabled:g},(function(e,a){return c.a.createElement("li",Object.assign({},e.draggableProps,{ref:e.innerRef,className:"".concat(a.isDragging?"dragging":""," ").concat(g?"no-drag":""," flex space-between align-center task")}),c.a.createElement("div",{className:"flex column"},c.a.createElement("div",{className:"flex space-between title"},c.a.createElement("div",{className:"flex align-center "},c.a.createElement("div",Object.assign({className:"handle"},e.dragHandleProps)),c.a.createElement("p",null,t.contact)),c.a.createElement("div",{className:"flex align-center"},t.info.media&&"youtube"!==t.info.media.split(".")[1]&&c.a.createElement(F.a,null),t.info.media&&"youtube"===t.info.media.split(".")[1]&&c.a.createElement(R.a,null),t.info.tdList&&c.a.createElement(S.a,null),c.a.createElement("button",{className:"menu-btn",onClick:function(){return P()}},c.a.createElement(w.a,null)))),t.info.media&&t.info.show&&"youtube"!==t.info.media.split(".")[1]&&c.a.createElement("img",{src:t.info.media,alt:""}),t.info.media&&t.info.show&&"youtube"===t.info.media.split(".")[1]&&c.a.createElement("iframe",{width:"180",height:"150",title:t.contacts,src:"https://www.youtube.com/embed/".concat(t.info.media.split("watch?v=")[1])}),t.info.tdList&&t.info.show&&c.a.createElement("div",{className:"list-container"},c.a.createElement("ul",{className:"list"},t.info.tdList.map((function(e,a){return c.a.createElement("li",{className:"flex space-between",key:a},c.a.createElement("div",{className:"flex align-center ".concat(e.isFinish?"done":"")},c.a.createElement("input",{onClick:function(){return p(t.id,a)},type:"checkbox",defaultChecked:e.isFinish}),e.title),c.a.createElement("button",{onClick:function(){return k(t.id,a)}},c.a.createElement(M.a,null)))}))),c.a.createElement(W,{addTD:b,taskId:t.id}))),N&&c.a.createElement("div",{className:"edit-container"},c.a.createElement("div",{className:"flex flex-end"},c.a.createElement("button",{onClick:A},c.a.createElement(M.a,null))),c.a.createElement(K,{editData:m,taskId:t.id,toggleDataEdit:A}),c.a.createElement("label",{className:"upload-btn flex align-center",htmlFor:"upload-file"},c.a.createElement(J.a,null)," Upload Img "),c.a.createElement("input",{hidden:!0,type:"file",className:"file-input",name:"img",id:"upload-file",onChange:U})),j&&c.a.createElement("div",{className:"menu"},c.a.createElement("button",{onClick:function(){P()}},c.a.createElement(M.a,null)," close"),!g&&c.a.createElement("button",{onClick:function(){P(o,[t.id,i])}},c.a.createElement(C.a,null)," Remove"),c.a.createElement("button",{onClick:function(){P(s,[t.id])}},g?c.a.createElement(D.a,null):c.a.createElement(I.a,null)," ",g?"Unlock":"Lock"),c.a.createElement("button",{onClick:function(){P(u,[t.id])}},c.a.createElement(_.a,null)," ",t.info.show?"Unshow":"Show"),c.a.createElement("button",{onClick:function(){P(A)}},c.a.createElement(F.a,null)," Media"),c.a.createElement("button",{onClick:function(){P(l,[t.id])}},c.a.createElement(S.a,null)," List")))}))}function X(e){var t=e.column,a=e.tasks,n=e.index,o=e.addTask,i=e.createTD,r=e.removeColumn,l=e.removeTask,s=e.lockTasks,d=e.toggleIsLock,u=e.toggleIsShown,m=e.editData,f=e.addTD,b=e.toggleIsFinish,p=e.removeTD;return c.a.createElement(v.b,{draggableId:t.id,index:n},(function(e){return c.a.createElement("li",Object.assign({className:"columns"},e.draggableProps,{ref:e.innerRef}),c.a.createElement("div",{className:"flex flex-end"},c.a.createElement("button",{onClick:function(){r(t.id,n)}},c.a.createElement(M.a,null))),c.a.createElement("h2",e.dragHandleProps,t.title),c.a.createElement(v.c,{droppableId:t.id,type:"task"},(function(e,n){return c.a.createElement("ul",Object.assign({ref:e.innerRef},e.droppableProps,{className:"flex column ".concat(n.isDraggingOver?"dragging":"")}),a.map((function(e,a){return c.a.createElement(V,{editData:m,toggleIsFinish:b,addTD:f,key:e.id,toggleIsShown:u,task:e,index:a,removeTask:l,columnId:t.id,lockTasks:s,toggleIsLock:d,removeTD:p,createTD:i})})),c.a.createElement("div",{className:"place-holder"},e.placeholder))})),c.a.createElement(O,{addTask:o,columnId:t.id}))}))}function z(){return"_"+Math.random().toString(36).substr(2,9)}function $(e){var t=e.addColumn,a=g({title:""}),n=Object(f.a)(a,2),o=n[0],i=n[1];return c.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),t(o.title),i()}(e)}},c.a.createElement("input",{name:"title",autoComplete:"off",placeholder:"Add card",value:o.title,onChange:i,type:"text"}))}function G(e){var t=Object(n.useState)(k.query()),a=Object(f.a)(t,2),o=a[0],i=a[1],r=Object(n.useState)(k.getLocks()),l=Object(f.a)(r,2),s=l[0],b=l[1];Object(n.useEffect)((function(){k.updateData(o)}),[o]),Object(n.useEffect)((function(){k.updateLocks(s)}),[s]);var p=function(e,t){var a=Object(d.a)(o.colums[e].taskIds),n=Object(d.a)(o.columnOrder);n.splice(t,1);var c=Object(m.a)({},o.colums);delete c[e];var r=Object(m.a)({},o.tasks);a.forEach((function(e){return delete r[e]}));var l={tasks:r,colums:c,columnOrder:n};console.log(l),i(l)},g=function(e,t){var a=o.colums[t].taskIds.filter((function(t){return t!==e})),n=Object(m.a)({},o.colums,Object(u.a)({},t,Object(m.a)({},o.colums[t],{taskIds:a}))),c=Object(m.a)({},o.tasks);delete c[e];var r=Object(m.a)({},o,{tasks:c,colums:n});i(r)},O=function(e,t){var a=z(),n={id:a,contact:e,info:{media:"",show:!0}},c={tasks:Object(m.a)({},o.tasks,Object(u.a)({},a,n)),colums:Object(m.a)({},o.colums,Object(u.a)({},t,Object(m.a)({},o.colums[t],{taskIds:[].concat(Object(d.a)(o.colums[t].taskIds),[a])}))),columnOrder:Object(d.a)(o.columnOrder)};i(c)},E=function(e){var t=s.findIndex((function(t){return t===e}));if(-1===t)b([].concat(Object(d.a)(s),[e]));else{var a=Object(d.a)(s);a.splice(t,1),b(a)}},h=function(e){var t=Object(m.a)({},o.tasks[e]);t.info.show=!t.info.show;var a=Object(m.a)({},o,{tasks:Object(m.a)({},o.tasks,Object(u.a)({},e,t))});i(a)},j=function(e,t){var a=Object(m.a)({},o.tasks[e]);a.info.media=t;var n=Object(m.a)({},o,{tasks:Object(m.a)({},o.tasks,Object(u.a)({},e,a))});i(n)},w=function(e,t){var a=Object(m.a)({},o.tasks[e]);a.info.tdList.push({isFinish:!1,title:t});var n=Object(m.a)({},o,{tasks:Object(m.a)({},o.tasks,Object(u.a)({},e,a))});i(n)},y=function(e,t){var a=Object(m.a)({},o.tasks[e]);a.info.tdList[t].isFinish=!a.info.tdList[t].isFinish;var n=Object(m.a)({},o,{tasks:Object(m.a)({},o.tasks,Object(u.a)({},e,a))});i(n)},I=function(e,t){var a=Object(m.a)({},o.tasks[e]);a.info.tdList.splice(t,1);var n=Object(m.a)({},o,{tasks:Object(m.a)({},o.tasks,Object(u.a)({},e,a))});i(n)},x=function(e){var t=Object(m.a)({},o.tasks[e]);if(!t.info.tdList){t.info.tdList=[];var a=Object(m.a)({},o,{tasks:Object(m.a)({},o.tasks,Object(u.a)({},e,t))});i(a)}};return c.a.createElement("div",{className:"main-div"},c.a.createElement(v.a,{onDragEnd:function(e){var t;document.body.style.color="inherit",document.body.style.backgroundColor="inherit";var a=e.destination,n=e.source,c=e.draggableId,r=e.type;if(a&&(a.droppableId!==n.droppableId||a.index!==n.index))if("column"!==r){var l=o.colums[n.droppableId],s=o.colums[a.droppableId];if(l!==s){var d=Array.from(l.taskIds);d.splice(n.index,1);var f=Object(m.a)({},l,{taskIds:d}),b=Array.from(s.taskIds);b.splice(a.index,0,c);var p=Object(m.a)({},s,{taskIds:b}),k=Object(m.a)({},o,{colums:Object(m.a)({},o.colums,(t={},Object(u.a)(t,f.id,f),Object(u.a)(t,p.id,p),t))});i(k)}else{var v=Array.from(l.taskIds);v.splice(n.index,1),v.splice(a.index,0,c);var g=Object(m.a)({},l,{taskIds:v}),O=Object(m.a)({},o,{colums:Object(m.a)({},o.colums,Object(u.a)({},g.id,g))});i(O)}}else{var E=Array.from(o.columnOrder);E.splice(n.index,1),E.splice(a.index,0,c);var h=Object(m.a)({},o,{columnOrder:E});i(h)}},onDragStart:function(e){console.log(e),q.emit("close-menu",e.draggableId),document.body.style.color="grey"},onDragUpdate:function(e){var t=e.destination,a=t?t.index/Object.keys(o.tasks).length:0;document.body.style.backgroundColor="rgba(180, 214, 211,".concat(a,")"),document.body.style.transition="background-color .3s ease"}},c.a.createElement("section",{className:"flex align-start specialities"},c.a.createElement(v.c,{droppableId:"all-columns",direction:"horizontal",type:"column"},(function(e){return c.a.createElement("ul",Object.assign({},e.droppableProps,{ref:e.innerRef,className:"flex align-start"}),o.columnOrder.map((function(e,t){var a=o.colums[e],n=a.taskIds.map((function(e){return o.tasks[e]}));return c.a.createElement(X,{key:a.id,addTD:w,editData:j,column:a,tasks:n,index:t,toggleIsShown:h,toggleIsFinish:y,addTask:O,removeColumn:p,removeTask:g,lockTasks:s,toggleIsLock:E,removeTD:I,createTD:x})})),e.placeholder)})),c.a.createElement("div",{className:"add-column-container"},c.a.createElement($,{addColumn:function(e){var t=z(),a={id:t,title:e,taskIds:[]},n={tasks:Object(m.a)({},o.tasks),colums:Object(m.a)({},o.colums,Object(u.a)({},t,a)),columnOrder:[].concat(Object(d.a)(o.columnOrder),[t])};i(n)}})))))}function Q(e){return c.a.createElement("section",null,c.a.createElement(G,null))}var Y=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(l.a,null,c.a.createElement(s.c,null,c.a.createElement(s.a,{component:Q,path:"/"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(57);var Z=a(9),ee=a(43),te={tasks:[]},ae=Object(Z.c)({task:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_TASKS":return Object(m.a)({},e,{tasks:t.tasks});case"TASK_ADD":return Object(m.a)({},e,{tasks:[].concat(Object(d.a)(e.tasks),[t.task])});case"TASK_UPDATE":return Object(m.a)({},e,{tasks:e.tasks.map((function(e){return e._id===t.task._id?t.task:e}))});case"TASK_REMOVE":return Object(m.a)({},e,{tasks:e.tasks.filter((function(e){return e._id!==t.taskId}))});default:return e}}}),ne=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Z.d,ce=Object(Z.e)(ae,ne(Object(Z.a)(ee.a)));i.a.render(c.a.createElement(r.a,{store:ce},c.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[45,1,2]]]);
//# sourceMappingURL=main.115c8fbf.chunk.js.map